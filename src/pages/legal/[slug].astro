---
import WebsiteLayout from "@/layouts/WebsiteLayout.astro";
import type { GetStaticPaths } from "astro";
import { getCollection } from "astro:content";
import { render } from "astro:content";

export const getStaticPaths = (async () => {
  const legal = await getCollection("legal");
  return legal.map((l) => ({
    params: { slug: l.id },
    props: { page: l },
  }));
}) satisfies GetStaticPaths;

const { page } = Astro.props;

const {
  data: { title, "short-description": description, subtitle },
} = page;

const { Content } = await render(page);
---

<WebsiteLayout seoProps={{ title, description }}>
  <section
    id="hero"
    class="bg-slate-900 text-slate-300 relative flex items-center justify-center py-12 with-local-padding min-h-60!"
  >
    <div
      class="absolute bottom-0 left-1/2 -translate-x-1/2 w-250 h-100 bg-indigo-600/10 blur-[120px] rounded-full z-0 pointer-events-none"
    >
    </div>
    <div class="relative w-full md:w-3/4">
      <h1 class={`text-3xl md:text-4xl font-bold ${subtitle ? "mb-8" : ""}`}>
        {title}
      </h1>
      {subtitle && <p>{subtitle}</p>}
    </div>
  </section>

  <div
    class="prose prose-lg w-full md:w-3/4 py-10 mx-auto max-w-270 prose-slate prose-headings:font-black prose-a:text-indigo-600 prose-hr:my-12 prose-hr:mx-auto prose-hr:w-3/4 prose-img:rounded-3xl leading-relaxed text-slate-700"
  >
    <Content />
  </div>
</WebsiteLayout>
